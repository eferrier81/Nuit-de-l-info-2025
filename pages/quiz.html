<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz NIRD - Village Num√©rique R√©sistant</title>
  <meta name="description" content="Parcours quiz pour lib√©rer ton √©tablissement de la d√©pendance num√©rique et d√©couvrir la d√©marche NIRD." />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/quiz.css" />
  <link rel="stylesheet" href="../css/chatbruti.css" />
</head>
<body>
  <header class="site-header" aria-label="En-t√™te principal">
    <nav class="nav" aria-label="Navigation principale">
      <a href="../index.html" class="nav__logo" aria-label="Retour √† l'accueil">
        <span class="nav__logo-icon" aria-hidden="true">‚ö°</span>
        <span class="nav__logo-text">Village Num√©rique R√©sistant</span>
      </a>
      <button class="nav__toggle" aria-expanded="false" aria-controls="nav-menu">
        <span class="sr-only">Ouvrir le menu</span>
        ‚ò∞
      </button>
      <div id="nav-menu" class="nav__links">
        <a href="../index.html#intro" class="nav__link">Accueil</a>
        <a href="../index.html#stats" class="nav__link">Village en chiffres</a>
        <a href="solutions.html" class="nav__link">Solutions NIRD</a>
      </div>
    </nav>
  </header>

  <main id="quiz-main" aria-labelledby="quiz-title">
    <section class="hero" aria-label="Quiz NIRD">
      <div class="hero__content">
        <h1 id="quiz-title" class="hero__title">D√©fi du Village Libre</h1>
        <p class="hero__subtitle">
          R√©ponds aux questions, gagne des points NIRD et fais progresser le
          <strong>Village Num√©rique R√©sistant</strong> du niveau "Novice" jusqu'au titre ultime de
          <strong>Lib√©rateur d'√©coles</strong>.
        </p>

        <div class="hero__cta-group">
          <p class="hero__note">
            Ton meilleur score : <span id="quiz-best-score">aucun pour le moment‚Ä¶ √† toi de jouer !</span>
          </p>
        </div>

        <div class="village-badge">
          <span class="village-badge__title">Village Libre</span>
          <span class="village-badge__gauge-label" id="quiz-progress-label">0% du village lib√©r√©</span>
          <div class="progress" aria-hidden="true">
            <div class="progress__bar" id="quiz-progress-bar"></div>
          </div>
          <p class="village-badge__percent">
            Score actuel : <span id="quiz-score">0</span> points
          </p>
        </div>
      </div>

      <div class="hero__illustration" aria-hidden="true">
        <div class="hero__icons">
          <span class="hero__icon">üìú</span>
          <span class="hero__icon">üõ°Ô∏è</span>
          <span class="hero__icon">üêß</span>
        </div>
      </div>
    </section>

    <section class="actions" aria-label="Questions du quiz">
      <div class="action-card">
        <h2 id="quiz-question">Chargement de la premi√®re question‚Ä¶</h2>
        <ol id="quiz-choices" class="quiz-choices" aria-label="R√©ponses possibles">
          <!-- options g√©n√©r√©es en JS -->
        </ol>

        <div id="quiz-feedback" class="quiz-feedback" hidden>
          <p id="quiz-feedback-message" class="quiz-feedback__message"></p>
          <p id="quiz-feedback-tip" class="quiz-feedback__tip"></p>
        </div>

        <button id="quiz-next" class="btn btn--primary btn--full" type="button" disabled>
          Question suivante
        </button>
      </div>
    </section>
  </main>

  <section id="quiz-end" class="actions" aria-label="R√©sultats du quiz" hidden>
    <div class="action-card">
      <h2>F√©licitations, la r√©sistance te salue !</h2>
      <p>
        Ton score : <strong id="quiz-end-score"></strong><br />
        Ton badge : <strong id="quiz-end-badge"></strong>
      </p>
      <p id="quiz-end-details"></p>
      <p>
        Partage ton r√©sultat et invite d'autres √©tablissements √† rejoindre le
        <strong>Village Num√©rique R√©sistant</strong> :
      </p>
      <div class="hero__cta-group">
        <button class="btn btn--ghost btn--small" type="button" data-share="twitter">Partager sur X/Twitter</button>
        <button class="btn btn--ghost btn--small" type="button" data-share="mastodon">Partager sur Mastodon</button>
        <button class="btn btn--accent btn--small" type="button" data-share="clipboard">Copier le texte de partage</button>
      </div>
      <p class="hero__note">
        Tu peux maintenant explorer les <a href="solutions.html" class="link">solutions concr√®tes NIRD</a>
        pour transformer ton √©tablissement.
      </p>
    </div>
  </section>

  <footer class="site-footer" aria-label="Pied de page">
    <p>
      Projet open source ¬∑ Licence <a href="../LICENSE" class="link">MIT</a> ¬∑
      Nuit de l'Info 2025 ¬∑ NIRD
    </p>
  </footer>

  <script type="module" src="../js/game-logic.js"></script>
  
  <!-- Chat‚Äôbruti ‚Äì Chat‚Äôrlatan -->
  <div class="chatbruti-container" aria-label="Chat‚Äôrlatan, chatbot tr√®s approximatif">
    <header class="chatbruti-header">
      <div class="chatbruti-avatar" aria-hidden="true">
        <span class="chatbruti-avatar-face">‡≤†‚Äø‡≤†</span>
      </div>
      <div class="chatbruti-title">
        <div class="chatbruti-name">Chat‚Äôrlatan</div>
        <div class="chatbruti-subtitle">Philosophe approximatif certifi√©</div>
      </div>
      <button class="chatbruti-toggle" type="button" aria-label="Ouvrir ou fermer le chat">
        ‚ñº
      </button>
    </header>

    <div class="chatbruti-body">
      <div class="chatbruti-messages" id="chatbruti-messages" aria-live="polite">
        <div class="chatbruti-message chatbruti-message--bot">
          <div class="chatbruti-bubble">
            <p>
              Bonjour, je suis <strong>Chat‚Äôrlatan</strong>. Je r√©ponds rarement √† la bonne
              question, mais toujours avec un immense s√©rieux int√©rieur.
            </p>
          </div>
        </div>
      </div>

      <form class="chatbruti-input-row" id="chatbruti-form">
        <input
          type="text"
          id="chatbruti-input"
          class="chatbruti-input"
          placeholder="Pose-moi une question... ou pas."
          autocomplete="off"
          aria-label="Question √† Chat‚Äôrlatan"
        />
        <button type="submit" class="chatbruti-send-btn">Envoyer</button>
      </form>
    </div>
  </div>

  <script src="../js/config.js"></script>
  <script src="../js/chatbruti.js"></script>
</body>
</html>
